const b=document.querySelector(".search__button"),p=document.querySelector(".search__input"),u=document.querySelector(".popular-items"),i=document.querySelector(".cart-items"),y=document.querySelector(".cart-clear-btn");let s=[],r=[];const f=(t,c,e,o)=>'<div class="product-card"><img src="'+t+'" alt="Fjallraven Backpack"><div class="product-info"><p class="product-title">'+c+'</p><p class="product-price">'+e+' €</p><div class="product-quantity"><button class="decrease-btn">-</button><span class="quantity-value">'+o+'</span><button class="increase-btn">+</button></div></div><button class="remove-btn" title="Eliminar" style="">🗑️</button></div>',h=(t,c,e)=>'<div class="product-card"><img src="'+t+'" alt="Fjallraven Backpack"><div class="product-info"><p class="product-title">'+c+'</p><p class="product-price">'+e+' €</p><button class="buyBtn" id="buyBtn">Comprar</button></div></div>',B=(t,c,e)=>'<div class="product-card-selected"><img src="'+t+'" alt="Fjallraven Backpack"><div class="product-info"><p class="product-title"><b>'+c+'</b></p><p class="product-price"><b>'+e+' €</b></p><button class="buyBtnRemove" id="buyBtn">Eliminar</button></div></div>',q=()=>{y.addEventListener("click",()=>{r=[],a(),n(s)})},n=t=>{u.innerHTML="";let c="";t.forEach(e=>{r.some(l=>l.id===e.id)?c=B(e.image,e.title,e.price):c=h(e.image,e.title,e.price),u.innerHTML+=c}),S(t)},a=()=>{i.innerHTML="",r.forEach(t=>{const c=f(t.image,t.title,t.price,t.quantity);i.innerHTML+=c}),localStorage.setItem("cartData",JSON.stringify(r)),v(),k(),E()},k=()=>{i.querySelectorAll(".increase-btn").forEach((c,e)=>{c.addEventListener("click",()=>{r[e].quantity+=1,a()})})},E=()=>{i.querySelectorAll(".decrease-btn").forEach((c,e)=>{c.addEventListener("click",()=>{r[e].quantity>1&&(r[e].quantity-=1,a())})})},v=()=>{i.querySelectorAll(".remove-btn").forEach((c,e)=>{c.addEventListener("click",()=>{r.splice(e,1),a(),n(s),v()})})},S=t=>{u.querySelectorAll("#buyBtn").forEach((e,o)=>{e.addEventListener("click",l=>{l.target.className==="buyBtnRemove"?r=r.filter(m=>m.id!==s[o].id):r.push({...t[o],quantity:1}),a(),n(s)})})},d=JSON.parse(localStorage.getItem("cartData"));d&&(r=d,a());fetch("https://fakestoreapi.com/products").then(t=>t.json()).then(t=>{s=t,n(t)}).catch(t=>console.error("Error fetching products:",t));b.addEventListener("click",()=>{const t=p.value.toLowerCase(),c=s.filter(e=>e.title.toLowerCase().includes(t));n(c)});const C=document.querySelector(".search__reset-button");C.addEventListener("click",()=>{p.value="",n(s)});q();
//# sourceMappingURL=main.js.map
